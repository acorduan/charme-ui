<aiq-form-container class="datetime-input relative" [label]="label">
  <input class="!pr-10" aiq-input
         [type]="$inputType()"
         [value]="$inputValue()"/>

  <button aiq-button size="small-icon" aiq-menu
          class="!absolute right-2"
          [aiqMenuTrigger]="defaultTpl">
    <span class="material-icons-outlined">calendar_month</span>
  </button>

</aiq-form-container>

<ng-template #defaultTpl let-ref="ref">
  <ng-container [ngSwitch]="$datePickerType()">
    <aiq-month-picker *ngSwitchCase="'month'"/>
    <aiq-month-picker *ngSwitchCase="'year'"/>

    <aiq-day-picker *ngSwitchCase="'date'"
                    [selectedDate]="$selectedDate()"
                    (selectedDateChange)="onDayPickerSelect($event, ref)"
                    [min]="$min()"
                    [max]="$max()"/>

    <aiq-date-time-picker *ngSwitchCase="'datetime'"
                          [selectedDate]="$selectedDate()"
                          (cancelClick)="ref.close()"
                          (selectedDateChange)="onDayPickerSelect($event, ref)"
                          [min]="$min()"
                          [max]="$max()"/>


  </ng-container>
</ng-template>
